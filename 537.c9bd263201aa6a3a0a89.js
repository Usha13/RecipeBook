(self.webpackChunkfood_recipe=self.webpackChunkfood_recipe||[]).push([[537],{5537:(e,t,i)=>{"use strict";i.r(t),i.d(t,{RecipeModule:()=>j});var n=i(2693),r=i(3395),o=i(4142),s=i(4689),c=i(9996),p=i(2728),a=i(5366),d=i(9878);let u=(()=>{class e{constructor(e,t,i){this.action$=e,this.http=t,this.store=i,this.fetchrecipe=(0,r.GW)(()=>this.action$.pipe((0,r.l4)(o.Z5),(0,s.w)(e=>this.http.get("https://angular-demo-c4ae7-default-rtdb.firebaseio.com/recipe.json",{reportProgress:!0,observe:"body"})),(0,c.U)(e=>{console.log(e);for(let t of e)t.ingredients||(t.ingredients=[]);return{type:o.St,payload:e}}))),this.storerecipe=(0,r.GW)(()=>this.action$.pipe((0,r.l4)(o.qt),(0,p.M)(this.store.select("recipes")),(0,s.w)(([e,t])=>{const i=new n.aW("PUT","https://angular-demo-c4ae7-default-rtdb.firebaseio.com/recipe.json",t.recipes);return console.log("stored"),this.http.request(i)})),{dispatch:!1})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.eX),a.LFG(n.eN),a.LFG(d.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();var l=i(5425),g=i(3714),Z=i(611);let m=(()=>{class e{constructor(e){this.store=e}canActivate(e,t){return this.store.select("auth").pipe((0,Z.q)(1),(0,c.U)(e=>e.isAuthenticated))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(d.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})();class h{constructor(e,t,i,n){this.name=e,this.description=t,this.imgPath=i,this.ingredients=n}}var f=i(1462),A=i(1116);function v(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",20),a.TgZ(1,"div",7),a._UZ(2,"input",21),a.qZA(),a.TgZ(3,"div",22),a._UZ(4,"input",23),a.qZA(),a.TgZ(5,"div",22),a.TgZ(6,"button",24),a.NdJ("click",function(){const t=a.CHM(e).index;return a.oxw().delingredient(t)}),a._uU(7,"X"),a.qZA(),a.qZA(),a.qZA()}2&e&&a.Q6J("formGroupName",t.index)}let q=(()=>{class e{constructor(e,t){this.route=e,this.store=t}ngOnInit(){this.route.params.subscribe(e=>{this.id=+e.id,this.allowedit=null!=e.id,this.forminit()})}forminit(){let e="",t="",i="",n=new f.Oe([]);this.allowedit&&this.store.select("recipes").pipe((0,Z.q)(1)).subscribe(r=>{const o=r.recipes[this.id];if(e=o.name,i=o.imgPath,t=o.description,o.ingredients)for(let e of o.ingredients)n.push(new f.cw({name:new f.NI(e.name,f.kI.required),amount:new f.NI(e.amount,[f.kI.required,f.kI.pattern(/^[1-9]+[0-9]*$/)])}))}),this.rform=new f.cw({name:new f.NI(e,f.kI.required),imageurl:new f.NI(i,f.kI.required),description:new f.NI(t,f.kI.required),ingredients:n})}onSubmit(){const e=this.rform.value,t=new h(e.name,e.description,e.imageurl,e.ingredients);this.store.dispatch(this.allowedit?new o.JY({index:this.id,updatedrecipe:t}):new o.N0(t)),this.rform.reset()}onaddingred(){this.rform.get("ingredients").push(new f.cw({name:new f.NI(null,f.kI.required),amount:new f.NI(null,[f.kI.required,f.kI.pattern(/^[1-9]+[0-9]*$/)])}))}delingredient(e){this.rform.get("ingredients").removeAt(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(g.gz),a.Y36(d.yh))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-edit-recipe"]],decls:46,vars:4,consts:[[1,"container"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-12"],[1,"form-group"],["for",""],["type","text","name","","id","","formControlName","name",1,"form-control"],[1,"col-8"],["type","text","name","","id","","formControlName","imageurl",1,"form-control"],["imgpath",""],[1,"col-4"],[1,"img-responsive","pimg",3,"src"],["name","","id","","rows","3","formControlName","description",1,"form-control"],["formArrayName","ingredients",1,"form-group"],["class","row","style","margin: 5px 0;",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-3"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-6"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button",1,"btn","btn-danger"],[1,"row",2,"margin","5px 0",3,"formGroupName"],["type","text","name","","id","","placeholder","","formControlName","name",1,"form-control"],[1,"col-2"],["type","number","name","","id","","placeholder","","formControlName","amount",1,"form-control"],["type","button","name","",3,"click"]],template:function(e,t){if(1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"form",2),a.NdJ("ngSubmit",function(){return t.onSubmit()}),a.TgZ(3,"div",1),a.TgZ(4,"div",3),a.TgZ(5,"div",4),a.TgZ(6,"label",5),a._uU(7,"Recipe Name"),a.qZA(),a._UZ(8,"input",6),a.qZA(),a.qZA(),a.qZA(),a._UZ(9,"br"),a.TgZ(10,"div",1),a.TgZ(11,"div",7),a.TgZ(12,"div",4),a.TgZ(13,"label",5),a._uU(14,"Image URL"),a.qZA(),a._UZ(15,"input",8,9),a.qZA(),a.qZA(),a.TgZ(17,"div",10),a.TgZ(18,"div",4),a._UZ(19,"img",11),a.qZA(),a.qZA(),a.qZA(),a._UZ(20,"br"),a.TgZ(21,"div",1),a.TgZ(22,"div",3),a.TgZ(23,"div",4),a.TgZ(24,"label",5),a._uU(25,"Recipe Description"),a.qZA(),a._UZ(26,"textarea",12),a.qZA(),a.qZA(),a.qZA(),a._UZ(27,"br"),a.TgZ(28,"div",13),a.TgZ(29,"label",5),a._uU(30,"Ingredients"),a.qZA(),a.YNc(31,v,8,1,"div",14),a.TgZ(32,"div",1),a.TgZ(33,"div",15),a.TgZ(34,"button",16),a.NdJ("click",function(){return t.onaddingred()}),a._uU(35,"Add Ingredients"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a._UZ(36,"br"),a.TgZ(37,"div",1),a.TgZ(38,"div",17),a.TgZ(39,"div",4),a.TgZ(40,"button",18),a._uU(41,"Submit"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(42,"div",17),a.TgZ(43,"div",4),a.TgZ(44,"button",19),a._uU(45,"Cancel"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.MAs(16);a.xp6(2),a.Q6J("formGroup",t.rform),a.xp6(17),a.Q6J("src",e.value,a.LSH),a.xp6(12),a.Q6J("ngForOf",t.rform.get("ingredients").controls),a.xp6(9),a.Q6J("disabled",t.rform.invalid)}},directives:[f._Y,f.JL,f.sg,f.Fj,f.JJ,f.u,f.CE,A.sg,f.x0,f.wV],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.pimg[_ngcontent-%COMP%]{height:100px;width:auto}"]}),e})();var w=i(8420),b=i(8086);function T(e,t){if(1&e&&(a.TgZ(0,"li",12),a._uU(1),a.qZA()),2&e){const e=t.$implicit;a.xp6(1),a.AsE(" ",e.name," - ",e.amount," ")}}const y=function(){return["edit"]};let _=(()=>{class e{constructor(e,t,i){this.route=e,this.router=t,this.store=i}ngOnInit(){this.id=this.route.snapshot.params.id,this.route.params.subscribe(e=>{this.id=e.id,this.recState=this.store.select("recipes")})}onAddToSList(){this.recState.pipe((0,Z.q)(1)).subscribe(e=>{this.store.dispatch(new w.Rw(e.recipes[this.id].ingredients))})}delrecipe(){this.store.dispatch(new o.xR(+this.id)),this.router.navigate(["recipes"])}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(g.gz),a.Y36(g.F0),a.Y36(d.yh))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-recipe-details"]],decls:33,vars:14,consts:[[1,"row"],[1,"col-12"],["alt","",2,"width","auto","height","320px","margin","30px 20px",3,"src"],["appDropdown","",1,"btn-group"],["type","button",1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],[2,"cursor","pointer",3,"click"],[1,"dropdown-divider"],[2,"cursor","pointer",3,"routerLink"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"h4"),a._uU(3),a.ALo(4,"async"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(5,"div",0),a.TgZ(6,"div",1),a._UZ(7,"img",2),a.ALo(8,"async"),a.qZA(),a.qZA(),a.TgZ(9,"div",0),a.TgZ(10,"div",1),a.TgZ(11,"div",3),a.TgZ(12,"button",4),a._uU(13,"Manage Recipe "),a._UZ(14,"span",5),a.qZA(),a.TgZ(15,"div",6),a.TgZ(16,"a",7),a.NdJ("click",function(){return t.onAddToSList()}),a._uU(17,"Add To Shopping List"),a.qZA(),a._UZ(18,"div",8),a.TgZ(19,"a",9),a._uU(20,"Edit Recipe"),a.qZA(),a._UZ(21,"div",8),a.TgZ(22,"a",7),a.NdJ("click",function(){return t.delrecipe()}),a._uU(23,"Delete Recipe"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(24,"div",0),a.TgZ(25,"div",1),a._uU(26),a.ALo(27,"async"),a.qZA(),a.qZA(),a.TgZ(28,"div",0),a.TgZ(29,"div",1),a.TgZ(30,"ul",10),a.YNc(31,T,2,2,"li",11),a.ALo(32,"async"),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Oqu(a.lcZ(4,5,t.recState).recipes[t.id].name),a.xp6(4),a.s9C("src",a.lcZ(8,7,t.recState).recipes[t.id].imgPath,a.LSH),a.xp6(12),a.Q6J("routerLink",a.DdM(13,y)),a.xp6(7),a.hij(" ",a.lcZ(27,9,t.recState).recipes[t.id].description," "),a.xp6(5),a.Q6J("ngForOf",a.lcZ(32,11,t.recState).recipes[t.id].ingredients))},directives:[b.w,g.yS,A.sg],pipes:[A.Ov],styles:[".dropdown-menu[_ngcontent-%COMP%]{top:40px;left:50px;padding:10px;min-width:13rem}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.open[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{display:block}"]}),e})();const x=function(e){return[e]},U=function(){return["activeitem"]};let O=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-recipe-item"]],inputs:{recipe:["recp","recipe"],id:["index","id"]},decls:8,vars:9,consts:[[1,"list-group-item","clearfix",2,"cursor","pointer",3,"routerLink","routerLinkActive"],[1,"pull-left",2,"float","left"],[1,"list-group-item-heading"],[1,"list-group-item-text"],[1,"pull-right",2,"float","right"],[1,"img-responsive",2,"height","60px","width","60px",3,"src","alt"]],template:function(e,t){1&e&&(a.TgZ(0,"a",0),a.TgZ(1,"div",1),a.TgZ(2,"h4",2),a._uU(3),a.qZA(),a.TgZ(4,"p",3),a._uU(5),a.qZA(),a.qZA(),a.TgZ(6,"span",4),a._UZ(7,"img",5),a.qZA(),a.qZA()),2&e&&(a.Q6J("routerLink",a.VKq(6,x,t.id))("routerLinkActive",a.DdM(8,U)),a.xp6(3),a.Oqu(t.recipe.name),a.xp6(2),a.Oqu(t.recipe.description),a.xp6(2),a.s9C("src",t.recipe.imgPath,a.LSH),a.s9C("alt",t.recipe.name))},directives:[g.yS,g.Od],styles:[".activeitem[_ngcontent-%COMP%]{background:#90ee90}a[_ngcontent-%COMP%]{text-decoration:none}"]}),e})();function k(e,t){if(1&e&&a._UZ(0,"app-recipe-item",4),2&e){const e=t.index;a.Q6J("recp",t.$implicit)("index",e)}}const C=function(){return["new"]};let N=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.recipes=this.store.select("recipes")}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(d.yh))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-recipe-list"]],decls:9,vars:5,consts:[[1,"row"],[1,"col-12"],[1,"btn","btn-success",3,"routerLink"],[3,"recp","index",4,"ngFor","ngForOf"],[3,"recp","index"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"button",2),a._uU(3,"New Recipe"),a.qZA(),a.qZA(),a.qZA(),a._UZ(4,"hr"),a.TgZ(5,"div",0),a.TgZ(6,"div",1),a.YNc(7,k,1,2,"app-recipe-item",3),a.ALo(8,"async"),a.qZA(),a.qZA()),2&e&&(a.xp6(2),a.Q6J("routerLink",a.DdM(4,C)),a.xp6(5),a.Q6J("ngForOf",a.lcZ(8,2,t.recipes).recipes))},directives:[g.rH,A.sg,O],pipes:[A.Ov],styles:[""]}),e})();const I=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-recipes"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-5"],[1,"col-md-7"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._UZ(2,"app-recipe-list"),a.qZA(),a.TgZ(3,"div",2),a._UZ(4,"router-outlet"),a.qZA(),a.qZA())},directives:[N,g.lC],styles:[""]}),e})(),children:[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-recstart"]],decls:2,vars:0,template:function(e,t){1&e&&(a.TgZ(0,"h3"),a._uU(1,"Please Select a Recipe"),a.qZA())},styles:[""]}),e})()},{path:"new",component:q,canActivate:[m]},{path:":id",component:_},{path:":id/edit",component:q,canActivate:[m]}]}];let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[m],imports:[[g.Bz.forChild(I)],g.Bz]}),e})();var S=i(6190);const P={recipes:[new h("Pizza","Delicious pizza","https://www.vegrecipesofindia.com/wp-content/uploads/2020/11/pizza-recipe.jpg",[new S.o("Pizza Base",1),new S.o("Chilli Sauce",1),new S.o("Onion",3),new S.o("Cheese",2)]),new h("Idli","Yummy Idli","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR3mGHGA5-PpXDy10y2Zmc3xIRQXaGcL48Qzg&usqp=CAU",[new S.o("Suji",1),new S.o("Tomato",2),new S.o("Curd",1)]),new h("Pasta","Chicken Pasta","https://images.immediate.co.uk/production/volatile/sites/30/2020/08/chicken_pasta_bake-bb82ba6.jpg?quality=90&resize=960,872",[new S.o("Pasta",1),new S.o("Tomato",3),new S.o("Chilli Powder",1)])]};function J(e=P,t){switch(t.type){case o.St:return Object.assign(Object.assign({},e),{recipes:[...t.payload]});case o.JL:return Object.assign(Object.assign({},e),{recipes:[...e.recipes,t.payload]});case o.nP:const i=[...e.recipes],n=Object.assign(Object.assign({},e.recipes[t.payload.index]),t.payload.updatedrecipe);return i[t.payload.index]=n,Object.assign(Object.assign({},e),{recipes:i});case o.s0:const r=[...e.recipes];return r.splice(t.payload,1),Object.assign(Object.assign({},e),{recipes:r});default:return e}}let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[A.ez,f.UX,L,l.m,d.Aw.forFeature("recipes",J),r.sQ.forFeature([u])]]}),e})()}}]);